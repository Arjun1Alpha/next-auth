(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7604:function(e,r,s){"use strict";s.r(r);var t=s(9499),n=s(29),a=s(7794),i=s.n(a),o=s(7294),c=s(1664),l=s.n(c),u=s(3299),d=s(7536),p=s(6501),m=s(1163),h=s(9703),f=s(5547),g=s(5893);function j(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,t)}return s}function w(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?j(Object(s),!0).forEach(function(r){(0,t.Z)(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}var b=function(){var e=(0,u.useSession)().data,r=(0,m.useRouter)(),s=r.query.redirect,t=(0,f.F)(),a=t.inCheckoutProcess,c=t.setInCheckoutProcess;(0,o.useEffect)(function(){null!=e&&e.user&&(a?(c(!1),r.push(s||"/checkout")):r.push(s||"/"))},[r,e,s]);var j,b=(0,d.cI)(),v=b.handleSubmit,x=b.register,O=b.formState.errors,P=(j=(0,n.Z)(i().mark(function e(r){var s,t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.email,t=r.password,e.prev=1,e.next=4,(0,u.signIn)("credentials",{redirect:!1,email:s,password:t});case 4:(n=e.sent).error&&p.ZP.error(n.error),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p.ZP.error((0,h.Z)(e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return j.apply(this,arguments)});return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("form",{action:"",className:"login-form-container",onSubmit:v(P),children:[(0,g.jsx)("h1",{className:"login-form-top-text",children:"Login"}),(0,g.jsxs)("div",{className:"login-email",children:[(0,g.jsx)("label",{htmlFor:"email",children:"Email"}),(0,g.jsx)("input",w(w({type:"email"},x("email",{required:"Please enter email",pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/i,message:"Please enter valid email"}})),{},{className:"email-input",id:"email",autoFocus:!0})),O.email&&(0,g.jsx)("div",{style:{color:"#dd6666"},children:O.email.message})]}),(0,g.jsxs)("div",{className:"login-password",children:[(0,g.jsx)("label",{htmlFor:"password",children:"Password"}),(0,g.jsx)("input",w(w({type:"password",className:"password-input"},x("password",{required:"Please enter password",minLength:{value:6,message:"Password requires 6 characters minimum"}})),{},{id:"password",autoFocus:!0})),O.password&&(0,g.jsx)("div",{style:{color:"#dd6666"},children:O.password.message})]}),(0,g.jsx)("div",{className:"login-button",children:(0,g.jsx)("button",{className:"login-btn",children:"Login"})}),(0,g.jsxs)("div",{className:"login-botton-text",children:["Don't have an account? \xa0",(0,g.jsx)(l(),{href:"/register",className:"link",children:(0,g.jsx)("a",{className:"link",children:"Register"})})]})]})})};r.default=b},6429:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(7604)}])}},function(e){e.O(0,[536,774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);